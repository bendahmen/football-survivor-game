{% extends 'base.html' %}

{% block title %}Home - Kane you survive?{% endblock %}

{% block extra_css %}
<style>
    .hero {
        background: white;
        border-radius: 12px;
        padding: 3rem;
        text-align: center;
        margin-bottom: 3rem;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    
    .hero h2 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        background: linear-gradient(135deg, #4ade80 0%, #16a34a 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    
    .hero p {
        font-size: 1.2rem;
        color: #666;
        margin-bottom: 2rem;
    }
    
    .pools-grid {
        display: grid;
        gap: 1.5rem;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    }
    
    .pool-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .pool-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 15px rgba(0,0,0,0.2);
    }
    
    .pool-header {
        display: flex;
        justify-content: space-between;
        align-items: start;
        margin-bottom: 1rem;
    }
    
    .pool-card h3 {
        color: #333;
        margin-bottom: 0.5rem;
    }
    
    .pool-season {
        display: inline-block;
        background: #f0f0f0;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-size: 0.9rem;
        color: #666;
    }
    
    .pool-stats {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
        margin: 1.5rem 0;
    }
    
    .stat {
        text-align: center;
        padding: 0.5rem;
        background: #f8f9fa;
        border-radius: 8px;
    }
    
    .stat-value {
        display: block;
        font-size: 1.5rem;
        font-weight: bold;
        color: #16a34a;
    }
    
    .stat-label {
        display: block;
        font-size: 0.85rem;
        color: #666;
        margin-top: 0.25rem;
    }
    
    .pool-entry-fee {
        text-align: center;
        margin: 1rem 0;
        padding: 1rem;
        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
        border-radius: 8px;
    }
    
    .fee-amount {
        font-size: 1.8rem;
        font-weight: bold;
        color: #333;
    }
    
    .fee-label {
        font-size: 0.9rem;
        color: #666;
    }
    
    .no-pools {
        text-align: center;
        padding: 4rem 2rem;
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    
    .no-pools h3 {
        color: #666;
        margin-bottom: 1rem;
    }
    
    .no-pools p {
        color: #999;
    }
</style>
{% endblock %}

{% block content %}
{% load static %}
<div style="text-align: center; margin: 3rem 0;">
    <img src="{% static 'images/logo.png' %}" alt="Kane you survive?"
    style="max-width: 400px; width: 80%; height: auto; margin: 0 auto; display: block">
</div>
<div class="hero">
    <h2>Hey Harry, Kane you survive?</h2>
    <p>This game works like musical chairs (Reise nach Jerusalem). Rather than picking a chair you pick a team, and rather than sitting down quickly you need to hope that team won't lose the next matchday. If you lose you're out, otherwise you survive to the next matchday. The last person standing wins. To make things interesting, you can only pick each time twice throughout a season.</p>
    {% if not user.is_authenticated %}
        <a href="{% url 'signup' %}" class="btn">Get Started</a>
    {% endif %}
</div>

<h2 style="color: white; margin-bottom: 1.5rem;">Active Pools</h2>

{% if active_pools %}
    <div class="pools-grid">
        {% for pool in active_pools %}
        <div class="pool-card">
            <div class="pool-header">
                <div>
                    <h3>{{ pool.name }}</h3>
                    <span class="pool-season">{{ pool.season.year }}</span>
                </div>
            </div>
            
            <div class="pool-stats">
                <div class="stat">
                    <span class="stat-value">{{ pool.active_players_count }}</span>
                    <span class="stat-label">Active Players</span>
                </div>
                <div class="stat">
                    <span class="stat-value">{{ pool.total_players_count }}</span>
                    <span class="stat-label">Total Players</span>
                </div>
            </div>
            
            {% if pool.entry_fee > 0 %}
            <div class="pool-entry-fee">
                <div class="fee-amount">€{{ pool.entry_fee }}</div>
                <div class="fee-label">Entry Fee</div>
            </div>
            {% else %}
            <div class="pool-entry-fee">
                <div class="fee-amount">FREE</div>
                <div class="fee-label">No Entry Fee</div>
            </div>
            {% endif %}
            
            <a href="{% url 'survivor:pool_detail' pool.id %}" class="btn" style="width: 100%; text-align: center;">
                View Pool →
            </a>
        </div>
        {% endfor %}
    </div>
{% else %}
    <div class="no-pools">
        <h3>No Active Pools</h3>
        <p>There are no active pools at the moment. Check back later!</p>
        {% if user.is_superuser %}
        <p style="margin-top: 1rem;">
            <a href="/admin/survivor/gamepool/add/" class="btn">Create a Pool</a>
        </p>
        {% endif %}
    </div>
{% endif %}
{% endblock %}